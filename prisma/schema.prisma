generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // o el que uses
  url      = env("DATABASE_URL")
}

model Teacher {
  id_teacher      Int           @id @default(autoincrement())
  first_name      String
  last_name       String
  email           String        @unique
  password        String        
  phone           String?
  id_specialty    Int
  specialty       Specialty     @relation(fields: [id_specialty], references: [id_specialty])
  subjects        Subject[]
}

model Specialty {
  id_specialty    Int           @id @default(autoincrement())
  name            String
  description     String?
  teachers        Teacher[]
}

model Subject {
  id_subject      Int           @id @default(autoincrement())
  name            String
  description     String?
  id_teacher      Int
  id_career       Int
  id_cycle        Int
  
  teacher         Teacher       @relation(fields: [id_teacher], references: [id_teacher])
  career          Career        @relation(fields: [id_career], references: [id_career])
  cycle           Cycle         @relation(fields: [id_cycle], references: [id_cycle])
}

model Student {
  id_student      Int           @id @default(autoincrement())
  first_name      String
  last_name       String
  email           String        @unique
  password        String        
  id_career       Int
  id_cycle        Int
  
  career          Career        @relation(fields: [id_career], references: [id_career])
  cycle           Cycle         @relation(fields: [id_cycle], references: [id_cycle])
}

model Career {
  id_career       Int           @id @default(autoincrement())
  name            String
  duration        String
  totalCycles     String
  subjects        Subject[]
  students        Student[]
}

model Cycle {
  id_cycle        Int           @id @default(autoincrement())
  name            String
  description     String?
  subjects        Subject[]
  students        Student[]
}